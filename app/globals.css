/* file: app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * ============================================================================
 * MOTION SYSTEM - Premium Smooth Tokens (Non-negotiable)
 * ============================================================================
 */
:root {
  /* Durations */
  --dur-1: 220ms;   /* micro hover */
  --dur-2: 320ms;   /* hover/press */
  --dur-3: 700ms;   /* page/panel transitions */
  --dur-4: 1000ms;  /* hero entrance */
  
  /* Easings */
  --ease-out: cubic-bezier(0.22, 1, 0.36, 1);
  --ease-enter: cubic-bezier(0.16, 1, 0.3, 1);
}

/*
 * ============================================================================
 * THEME TOKENS
 * ============================================================================
 */
@layer base {
  :root,
  [data-theme="classic"] {
    /* Typography */
    --font-sans: "Crimson Pro", Georgia, serif;
    --font-heading: "Playfair Display", Georgia, serif;
    --font-mono: "JetBrains Mono", monospace;
    
    /* Font Sizes */
    --text-display-xl: 4.5rem;
    --text-display-lg: 3.5rem;
    --text-display: 2.5rem;
    --leading-display: 1.1;
    
    /* Colors - Minimal Political Palette */
    --primary: 0 45% 35%;
    --primary-foreground: 0 0% 98%;
    --secondary: 38 70% 50%;
    --secondary-foreground: 0 0% 10%;
    
    /* Off-white background */
    --background: 40 20% 98%;
    --foreground: 220 40% 10%;
    
    --card: 0 0% 100%;
    --card-foreground: 220 40% 10%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 220 30% 15%;
    
    --muted: 40 10% 94%;
    --muted-foreground: 220 15% 40%;
    
    --accent: 40 20% 96%;
    --accent-foreground: 220 40% 15%;
    
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 98%;
    
    --success: 142 72% 29%;
    --success-foreground: 0 0% 98%;
    
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 10%;
    
    --border: 40 15% 88%;
    --input: 40 15% 88%;
    --ring: 0 45% 35%;
    
    /* Spacing */
    --section-spacing: 6rem;
    --container-padding: 1.5rem;
    
    /* Border Radius */
    --radius: 0.25rem;
    
    /* Shadows - Very subtle */
    --shadow-card: 0 1px 2px 0 rgb(0 0 0 / 0.03);
    --shadow-elevated: 0 4px 12px -2px rgb(0 0 0 / 0.08);
    --shadow-panel-hover: 0 8px 24px -4px rgb(0 0 0 / 0.1);
  }

  /* Dark mode */
  .dark {
    --background: 220 15% 8%;
    --foreground: 0 0% 95%;
    --card: 220 15% 11%;
    --card-foreground: 0 0% 95%;
    --popover: 220 15% 11%;
    --popover-foreground: 0 0% 95%;
    --muted: 220 10% 16%;
    --muted-foreground: 220 10% 60%;
    --accent: 220 10% 18%;
    --accent-foreground: 0 0% 95%;
    --border: 220 10% 20%;
    --input: 220 10% 20%;
  }
}

/*
 * ============================================================================
 * BASE STYLES
 * ============================================================================
 */
@layer base {
  * {
    @apply border-border;
  }
  
  html {
    scroll-behavior: smooth;
    font-size: 16px;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
    line-height: 1.7;
  }
  
  /* Subtle vignette effect */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(ellipse at center, transparent 0%, hsl(var(--background)) 100%);
    opacity: 0.4;
    pointer-events: none;
    z-index: -2;
  }
  
  /* Very subtle noise texture */
  body::after {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    opacity: 0.02;
    pointer-events: none;
    z-index: -1;
  }
  
  p {
    line-height: 1.75;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    @apply font-semibold tracking-tight;
    line-height: 1.2;
  }
  
  /* Focus states - match hover intent */
  :focus-visible {
    @apply outline-none;
    box-shadow: 0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--primary));
  }
  
  button:focus-visible,
  a:focus-visible,
  [role="button"]:focus-visible {
    @apply outline-none;
    box-shadow: 0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--primary));
  }
  
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    @apply outline-none;
    box-shadow: 0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--primary));
  }
  
  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50;
    @apply focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded;
    font-weight: 600;
  }
}

/*
 * ============================================================================
 * COMPONENT STYLES
 * ============================================================================
 */
@layer components {
  .container-custom {
    @apply mx-auto w-full max-w-7xl;
    padding-left: var(--container-padding);
    padding-right: var(--container-padding);
  }
  
  .section-spacing {
    padding-top: var(--section-spacing);
    padding-bottom: var(--section-spacing);
  }
  
  /* Prose */
  .prose-custom {
    @apply max-w-none text-foreground;
  }
  
  .prose-custom h1, .prose-custom h2, .prose-custom h3,
  .prose-custom h4, .prose-custom h5, .prose-custom h6 {
    font-family: var(--font-heading);
    @apply text-foreground font-semibold;
  }
  
  .prose-custom a {
    @apply text-primary no-underline hover:underline;
  }
  
  .prose-custom strong {
    @apply text-foreground font-semibold;
  }
  
  .prose-custom code {
    @apply text-primary bg-muted px-1.5 py-0.5 rounded text-sm;
  }
  
  .prose-custom pre {
    @apply bg-muted border border-border rounded p-4 overflow-x-auto;
  }
  
  .prose-custom blockquote {
    @apply border-l-2 border-primary pl-4 italic text-muted-foreground;
  }
}

/*
 * ============================================================================
 * KEYFRAMES - Premium Smooth Animations
 * ============================================================================
 */

/* Hero entrance - smooth blur reveal */
@keyframes heroReveal {
  0% {
    opacity: 0;
    transform: translateY(12px);
    filter: blur(8px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
    filter: blur(0);
  }
}

/* Panel entrance - staggered */
@keyframes panelEntrance {
  0% {
    opacity: 0;
    transform: translateY(12px);
    filter: blur(8px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
    filter: blur(0);
  }
}

/* Panel takeover - selected panel */
@keyframes panelTakeover {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 1;
    transform: scale(1.02);
  }
}

/* Panel fade away */
@keyframes panelFadeOut {
  0% {
    opacity: 1;
    transform: translateX(0);
  }
  100% {
    opacity: 0;
    transform: translateX(-20px);
  }
}

@keyframes panelFadeOutRight {
  0% {
    opacity: 1;
    transform: translateX(0);
  }
  100% {
    opacity: 0;
    transform: translateX(20px);
  }
}

/* Scroll indicator pulse */
@keyframes scrollPulse {
  0%, 100% {
    opacity: 0.4;
    transform: translateY(0);
  }
  50% {
    opacity: 0.8;
    transform: translateY(4px);
  }
}

/* Tooltip fade */
@keyframes tooltipFade {
  0% {
    opacity: 0;
    transform: translateY(4px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Simple fade */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/*
 * ============================================================================
 * WINGS GATEWAY - Premium Layout & Motion
 * ============================================================================
 */
@layer utilities {
  /* Gateway layout */
  .wings-gateway {
    @apply min-h-screen flex flex-col;
  }
  
  .wings-gateway-hero {
    @apply flex-1 flex items-center justify-center;
    min-height: 100vh;
    min-height: 100dvh;
    padding: 4rem 1.5rem 3rem;
    /* Subtle radial anchor gradient */
    background: radial-gradient(ellipse 80% 50% at 50% 40%, hsl(var(--primary) / 0.03), transparent);
  }
  
  /* Hero content entrance */
  .hero-reveal {
    opacity: 0;
    animation: heroReveal var(--dur-4) var(--ease-enter) forwards;
  }
  
  .hero-reveal-1 { animation-delay: 0ms; }
  .hero-reveal-2 { animation-delay: 100ms; }
  .hero-reveal-3 { animation-delay: 200ms; }
  
  /* Panel entrance animations */
  .panel-entrance {
    opacity: 0;
    animation: panelEntrance var(--dur-4) var(--ease-enter) forwards;
  }
  
  .panel-entrance-1 { animation-delay: 300ms; }
  .panel-entrance-2 { animation-delay: 380ms; }
  .panel-entrance-3 { animation-delay: 460ms; }
  
  /* Wing panel - disciplined minimal design */
  .wing-panel {
    @apply relative;
    @apply bg-card;
    @apply border border-border/80;
    @apply rounded-md;
    padding: 2rem;
    transition: 
      transform var(--dur-2) var(--ease-out),
      box-shadow var(--dur-2) var(--ease-out),
      border-color var(--dur-2) var(--ease-out),
      background-color var(--dur-2) var(--ease-out);
    will-change: transform;
  }
  
  .wing-panel:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 20px -4px rgb(0 0 0 / 0.1);
    border-color: hsl(var(--border));
  }
  
  .wing-panel:focus-visible {
    transform: translateY(-4px);
    box-shadow: 0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--primary));
  }
  
  /* Panel icon */
  .wing-panel-icon {
    @apply w-10 h-10 mb-6;
    @apply text-foreground;
    stroke-width: 1.5;
    transition: transform var(--dur-2) var(--ease-out);
  }
  
  .wing-panel:hover .wing-panel-icon {
    transform: scale(1.05);
  }
  
  /* Panel title */
  .wing-panel-title {
    @apply text-xl font-heading font-semibold mb-2;
    @apply text-foreground;
    letter-spacing: -0.01em;
    transition: letter-spacing var(--dur-2) var(--ease-out);
  }
  
  .wing-panel:hover .wing-panel-title {
    letter-spacing: 0.01em;
  }
  
  /* Panel description */
  .wing-panel-desc {
    @apply text-sm text-muted-foreground mb-6;
    line-height: 1.6;
    opacity: 0.85;
    transition: opacity var(--dur-2) var(--ease-out);
  }
  
  .wing-panel:hover .wing-panel-desc {
    opacity: 1;
  }
  
  /* Panel CTA */
  .wing-panel-cta {
    @apply text-sm font-medium text-foreground;
    @apply inline-flex items-center gap-2;
    padding-bottom: 2px;
    border-bottom: 1px solid transparent;
    transition: 
      gap var(--dur-2) var(--ease-out),
      border-color var(--dur-2) var(--ease-out);
  }
  
  .wing-panel:hover .wing-panel-cta {
    gap: 0.625rem;
    border-bottom-color: hsl(var(--foreground) / 0.3);
  }
  
  .wing-panel-cta svg {
    @apply w-4 h-4;
    transition: transform var(--dur-2) var(--ease-out);
  }
  
  .wing-panel:hover .wing-panel-cta svg {
    transform: translateX(4px);
  }
  
  /* Main panel (center, larger, dominant) */
  .wing-panel-main {
    padding: 2.5rem;
    background: hsl(var(--primary) / 0.02);
    @apply border-primary/25;
  }
  
  .wing-panel-main:hover {
    transform: translateY(-6px);
    box-shadow: 0 10px 28px -6px rgb(0 0 0 / 0.12);
    background: hsl(var(--primary) / 0.035);
    @apply border-primary/35;
  }
  
  @media (min-width: 768px) {
    .wing-panel-main {
      padding: 3rem;
    }
  }
  
  /* Disabled panel (Female Wing) */
  .wing-panel-disabled {
    @apply cursor-default;
  }
  
  .wing-panel-disabled:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-elevated);
  }
  
  .wing-panel-disabled .wing-panel-icon,
  .wing-panel-disabled .wing-panel-title,
  .wing-panel-disabled .wing-panel-cta {
    @apply text-muted-foreground;
  }
  
  .wing-panel-disabled .wing-panel-desc {
    opacity: 0.6;
  }
  
  /* Tooltip for "Coming soon" */
  .wing-tooltip {
    @apply absolute;
    @apply px-3 py-1.5 rounded;
    @apply bg-foreground text-background;
    @apply text-xs font-medium;
    @apply pointer-events-none;
    bottom: calc(100% + 8px);
    left: 50%;
    transform: translateX(-50%);
    opacity: 0;
    animation: tooltipFade var(--dur-2) var(--ease-out) forwards;
    white-space: nowrap;
  }
  
  .wing-tooltip::after {
    content: '';
    @apply absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 4px solid transparent;
    border-top-color: hsl(var(--foreground));
  }
  
  /* Panel takeover states */
  .wing-panel.is-selected {
    animation: panelTakeover var(--dur-3) var(--ease-enter) forwards;
    z-index: 10;
  }
  
  .wing-panel.is-fading-left {
    animation: panelFadeOut var(--dur-3) var(--ease-enter) forwards;
  }
  
  .wing-panel.is-fading-right {
    animation: panelFadeOutRight var(--dur-3) var(--ease-enter) forwards;
  }
  
  /* Scroll indicator */
  .scroll-indicator {
    @apply absolute bottom-8 left-1/2 -translate-x-1/2;
    @apply flex flex-col items-center gap-2;
    @apply text-muted-foreground;
    animation: scrollPulse 2s var(--ease-out) infinite;
  }
  
  .scroll-indicator svg {
    @apply w-5 h-5;
  }
  
  /* Staggered section reveals */
  .reveal-section {
    opacity: 0;
    animation: fadeInUp var(--dur-3) var(--ease-enter) forwards;
  }
  
  .reveal-delay-1 { animation-delay: 0ms; }
  .reveal-delay-2 { animation-delay: 100ms; }
  .reveal-delay-3 { animation-delay: 200ms; }
  .reveal-delay-4 { animation-delay: 300ms; }
  
  /* Reduced motion - accessibility */
  @media (prefers-reduced-motion: reduce) {
    .hero-reveal,
    .panel-entrance,
    .wing-panel,
    .wing-panel-icon,
    .wing-panel-title,
    .wing-panel-desc,
    .wing-panel-cta,
    .wing-panel-cta svg,
    .scroll-indicator,
    .reveal-section,
    .wing-tooltip {
      animation: none !important;
      transition: opacity var(--dur-1) ease !important;
      transform: none !important;
      filter: none !important;
      opacity: 1 !important;
    }
    
    .wing-panel:hover,
    .wing-panel:focus-visible {
      transform: none !important;
    }
  }
}

/*
 * ============================================================================
 * GENERAL UTILITIES
 * ============================================================================
 */
@layer utilities {
  .scroll-mt-header {
    scroll-margin-top: 5rem;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  /* Simple hover lift for other components */
  .hover-lift {
    transition: transform var(--dur-2) var(--ease-out), box-shadow var(--dur-2) var(--ease-out);
  }
  
  .hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-elevated);
  }
  
  /* Fade animations */
  .animate-fade-in {
    animation: fadeIn var(--dur-3) var(--ease-enter) forwards;
  }
  
  .animate-fade-in-up {
    animation: fadeInUp var(--dur-3) var(--ease-enter) forwards;
  }
}

/*
 * ============================================================================
 * RESPONSIVE
 * ============================================================================
 */
@media (max-width: 768px) {
  html {
    font-size: 15px;
  }
  
  .wings-gateway-hero {
    padding: 3.5rem 1rem 2.5rem;
  }
  
  .wing-panel {
    padding: 1.75rem;
  }
  
  .wing-panel-main {
    padding: 2rem;
  }
}

@media (min-width: 769px) {
  html {
    font-size: 16px;
  }
}
