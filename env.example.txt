# PRNI Political Party Website - Environment Variables
# ============================================================================
# Copy this file to .env.local and fill in your values
# DO NOT commit .env.local to version control
# ============================================================================

# DATABASE
# For SQLite (local development):
# DATABASE_URL="file:./dev.db"
# For PostgreSQL (production):
DATABASE_URL="postgresql://user:password@localhost:5432/prni?schema=public"

# AUTHENTICATION
# Generate a secure secret: openssl rand -base64 64
# CRITICAL: Use a strong, random value in production!
NEXTAUTH_SECRET="your-super-secret-key-change-this-in-production-must-be-64-chars"
NEXTAUTH_URL="http://localhost:3000"

# ADMIN ACCOUNT (used by seed script)
# CRITICAL: Use an extremely strong password in production!
# Requirements:
#   - 20+ characters minimum
#   - At least 2 uppercase, 2 lowercase, 2 numbers, 2 special characters
#   - No repeating characters (aaa, 111)
#   - No common patterns (qwerty, password, admin, 123456)
# The seed script will REFUSE to run if these are not met.
# Generate one with: openssl rand -base64 32 | tr -d '=' | head -c 28
ADMIN_EMAIL="admin@prni.org"
ADMIN_PASSWORD="Xk9#mP2$vL7@nQ4!wR8&jF5*"

# THEME: "classic" (default) or "modern"
NEXT_PUBLIC_THEME="classic"

# ============================================================================
# RATE LIMITING — Upstash Redis (REQUIRED for production)
# ============================================================================
# Without these, rate limiting falls back to in-memory which does NOT work
# reliably on serverless platforms (Vercel, AWS Lambda, etc).
# In production, the fallback is 5x stricter to partially compensate, but
# Redis is STRONGLY recommended.
#
# 1. Create a free Redis database at https://upstash.com
# 2. Copy the REST URL and token from the Upstash dashboard
#
UPSTASH_REDIS_REST_URL="https://your-instance.upstash.io"
UPSTASH_REDIS_REST_TOKEN="AX...your-token..."

# ============================================================================
# INTERNAL API SECRET (Recommended)
# ============================================================================
# A separate high-entropy secret used to authenticate internal API calls
# (e.g. the security alert persistence endpoint).  If not set, the system
# falls back to NEXTAUTH_SECRET — but using a dedicated secret is safer
# because it limits the blast radius if either secret is compromised.
#
# Generate with: openssl rand -base64 48
#
# INTERNAL_API_SECRET="your-separate-internal-api-secret-here"

# ============================================================================
# SECURITY SETTINGS (Optional but Recommended)
# ============================================================================

# IP Allowlist for Admin Panel (comma-separated, leave empty to allow all)
# Example: "192.168.1.1,10.0.0.1"
# ALLOWED_ADMIN_IPS=""

# ============================================================================
# EMAIL (Optional - for contact form & security alerts)
# ============================================================================
# RESEND_API_KEY="re_xxxxx"
# CONTACT_EMAIL="info@prni.org"

# Security alert email (optional - falls back to CONTACT_EMAIL if not set)
# You'll get emailed when critical attacks are detected (brute force, bot floods, etc.)
# SECURITY_ALERT_EMAIL="security@prni.org"

# ============================================================================
# MONITORING (Optional but Recommended for Production)
# ============================================================================
# SENTRY_DSN="https://xxxxx@sentry.io/xxxxx"

# ============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================================================
# 1. Use a strong NEXTAUTH_SECRET (64+ random characters)
# 2. Use a VERY strong ADMIN_PASSWORD (20+ chars, 2+ uppercase/lowercase/numbers/symbols)
# 3. Set up Upstash Redis for rate limiting (UPSTASH_REDIS_REST_URL/TOKEN)
# 4. Set a separate INTERNAL_API_SECRET
# 5. Set up Cloudflare for DDoS protection
# 6. Enable ALLOWED_ADMIN_IPS in high-threat environments
# 7. Configure Resend for email delivery
# 8. Configure Sentry for error tracking
# 9. Run `npm audit` regularly to check for dependency vulnerabilities
# ============================================================================
